"use strict";(self.webpackChunkctrader_openapi_docs=self.webpackChunkctrader_openapi_docs||[]).push([[425],{1360:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>d,contentTitle:()=>i,default:()=>h,frontMatter:()=>s,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"examples/get-trade-history","title":"Extracting all the information regarding trade history","description":"I will describe the sequence of client-server messages that relate to extracting","source":"@site/docs/06-examples/08-get-trade-history.mdx","sourceDirName":"06-examples","slug":"/examples/get-trade-history","permalink":"/ctoa/examples/get-trade-history","draft":false,"unlisted":false,"editUrl":"https://github.com/m-ahmadi/ctoa/blob/main/docs/06-examples/08-get-trade-history.mdx","tags":[],"version":"current","sidebarPosition":8,"frontMatter":{},"sidebar":"sidebar","previous":{"title":"How far back data, you can download","permalink":"/ctoa/examples/history-depth"},"next":{"title":"JavaScript example of how to connect to server and place an order","permalink":"/ctoa/examples/js-connect-place-order"}}');var o=r(4848),a=r(8453);const s={},i="Extracting all the information regarding trade history",d={},c=[];function l(e){const t={code:"code",h1:"h1",header:"header",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.header,{children:(0,o.jsx)(t.h1,{id:"extracting-all-the-information-regarding-trade-history",children:"Extracting all the information regarding trade history"})}),"\n",(0,o.jsx)(t.p,{children:"I will describe the sequence of client-server messages that relate to extracting\nall the information regarding deal history"}),"\n",(0,o.jsxs)(t.p,{children:["you send ",(0,o.jsx)(t.code,{children:"ProtoOADealListReq"})," server sends ",(0,o.jsx)(t.code,{children:"ProtoOADealListRes"})," back which\ncontains a deal field which is an array of ",(0,o.jsx)(t.code,{children:"ProtoOADeal"}),", each item in the array\ncontains an ",(0,o.jsx)(t.code,{children:"orderId"}),", a ",(0,o.jsx)(t.code,{children:"positionId"})," and a ",(0,o.jsx)(t.code,{children:"dealId"})]}),"\n",(0,o.jsxs)(t.p,{children:["now you must iterate through the deal field and send a ",(0,o.jsx)(t.code,{children:"ProtoOAOrderDetailsReq"}),"\nmessage for each item"]}),"\n",(0,o.jsxs)(t.p,{children:["in response to each ",(0,o.jsx)(t.code,{children:"ProtoOAOrderDetailsReq"})," server sends back a\n",(0,o.jsx)(t.code,{children:"ProtoOAOrderDetailsRes"})," which contains two fields. one is a ",(0,o.jsx)(t.code,{children:"deal"})," field which\nis just the same as an item of ",(0,o.jsx)(t.code,{children:"deal"})," field of the ",(0,o.jsx)(t.code,{children:"ProtoOADealListRes"}),". another\nfield is ",(0,o.jsx)(t.code,{children:"order"})," which contains more information about details of the order"]}),"\n",(0,o.jsx)(t.p,{children:"this is all the info available about the past deals, so in summary the related\nmessages you need to study are:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{children:"ProtoOADealListReq\nProtoOADealListRes\n\nProtoOAOrderDetailsReq\nProtoOAOrderDetailsRes\n\n# these might also come in handy (if you want current orders and positions)\nProtoOAOrderListReq\nProtoOAReconcileReq\n"})})]})}function h(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}},8453:(e,t,r)=>{r.d(t,{R:()=>s,x:()=>i});var n=r(6540);const o={},a=n.createContext(o);function s(e){const t=n.useContext(a);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),n.createElement(a.Provider,{value:t},e.children)}}}]);