<!doctype html>
<html lang="en-US" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-contacting-api/acquiring-credentials" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Acquiring Credentials | cTrader OpenAPI Community Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" property="og:url" content="https://m-ahmadi.github.io/ctoa/contacting-api/acquiring-credentials"><meta data-rh="true" property="og:locale" content="en_US"><meta data-rh="true" property="og:locale:alternate" content="fa_IR"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="google-site-verification" content="A3GEBO4Wur6jxNzR-hUJY4pBR2h1xQM3nFy4JC774p8"><meta data-rh="true" name="keywords" content="ctrader, openapi, docs, trading, forex, crypto"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Acquiring Credentials | cTrader OpenAPI Community Docs"><meta data-rh="true" name="description" content="Once we are connected to the server, we can send a message to it, and the server"><meta data-rh="true" property="og:description" content="Once we are connected to the server, we can send a message to it, and the server"><link data-rh="true" rel="canonical" href="https://m-ahmadi.github.io/ctoa/contacting-api/acquiring-credentials"><link data-rh="true" rel="alternate" href="https://m-ahmadi.github.io/ctoa/contacting-api/acquiring-credentials" hreflang="en-US"><link data-rh="true" rel="alternate" href="https://m-ahmadi.github.io/ctoa/fa/contacting-api/acquiring-credentials" hreflang="fa-IR"><link data-rh="true" rel="alternate" href="https://m-ahmadi.github.io/ctoa/contacting-api/acquiring-credentials" hreflang="x-default"><link rel="stylesheet" href="/ctoa/assets/css/styles.a2fa7713.css">
<script src="/ctoa/assets/js/runtime~main.7be50407.js" defer="defer"></script>
<script src="/ctoa/assets/js/main.3b9405e3.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/ctoa/"></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/ctoa/contacting-api/acquiring-credentials" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en-US">English</a></li><li><a href="/ctoa/fa/contacting-api/acquiring-credentials" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="fa-IR">فارسی</a></li></ul></div></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ctoa/">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/ctoa/contacting-api">Contacting the API</a><button aria-label="Collapse sidebar category &#x27;Contacting the API&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ctoa/contacting-api/endpoints">API Endpoints</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ctoa/contacting-api/establishing-connection">Establishing a Connection</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ctoa/contacting-api/exchanging-messages">Exchanging Messages</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/ctoa/contacting-api/acquiring-credentials">Acquiring Credentials</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ctoa/contacting-api/authentication">Authentication</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ctoa/contacting-api/keeping-connection-open">Keeping Connection Open</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ctoa/contacting-api/dictionary-of-all-messages">Dictionary of All Messages</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/ctoa/contacting-api/protobuf">Protobuf</a><button aria-label="Expand sidebar category &#x27;Protobuf&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/ctoa/placing-order">Placing Orders</a><button aria-label="Expand sidebar category &#x27;Placing Orders&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/ctoa/historical-data">Historical Data</a><button aria-label="Expand sidebar category &#x27;Historical Data&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ctoa/Basic Python examples of how to connect to server">Basic Python examples of how to connect to server</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ctoa/Python example of connecting to server and placing an order">Python example of connecting to server and placing an order</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ctoa/Python example of how to download time-series data">Python example of how to download time-series data</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ctoa/Python example of how to download ticks data">Python example of how to download ticks data</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ctoa/Basic websocket example in JavaScript">Basic websocket example in JavaScript</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ctoa/How to place order with relative sl,tp">How to place order with relative sl,tp</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ctoa/How far back time-series data, you can download">How far back time-series data, you can download</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ctoa/Extracting all the information regarding trade history">Extracting all the information regarding trade history</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ctoa/JavaScript example of how to connect to server and place an order">JavaScript example of how to connect to server and place an order</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ctoa/Why live trendbar has no closeprice">Why live trendbar has no closeprice</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ctoa/what happened to the order you just sent">what happened to the order you just sent</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/ctoa/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/ctoa/contacting-api"><span itemprop="name">Contacting the API</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Acquiring Credentials</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Acquiring Credentials</h1></header>
<p>Once we are connected to the server, we can send a message to it, and the server
will respond to our message too, but the problem is because server does not know
who we are, it will respond to any message we send by sending an error message
back (<code>payloadType</code> of <code>2142</code>). In order to introduce ourself properly to the
server, we need to have the proper credentials, so let&#x27;s see how we can them.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-get-clientid-clientsecret-accesstoken-and-refreshtoken">How to Get ClientID, ClientSecret, AccessToken and RefreshToken<a href="#how-to-get-clientid-clientsecret-accesstoken-and-refreshtoken" class="hash-link" aria-label="Direct link to How to Get ClientID, ClientSecret, AccessToken and RefreshToken" title="Direct link to How to Get ClientID, ClientSecret, AccessToken and RefreshToken">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="part-1-getting-clientid-and-clientsecret">Part 1: Getting <strong><code>ClientID</code></strong> and <strong><code>ClientSecret</code></strong><a href="#part-1-getting-clientid-and-clientsecret" class="hash-link" aria-label="Direct link to part-1-getting-clientid-and-clientsecret" title="Direct link to part-1-getting-clientid-and-clientsecret">​</a></h3>
<ol>
<li>
<p>Go to this page: <a href="https://openapi.ctrader.com/apps" target="_blank" rel="noopener noreferrer">https://openapi.ctrader.com/apps</a></p>
</li>
<li>
<p>Log-in with your cTrader account (if not already logged-in).</p>
</li>
<li>
<p>Click <strong><code>= Add new App</code></strong> button.</p>
<ol>
<li>Fill-in the mandatory fields: <code>Application name</code> and <code>Description</code>, etc.</li>
<li>Click <strong><code>+ Add redirect URL</code></strong> and put <strong><code>https://example.com</code></strong>.</li>
<li>Click <strong><code>Save</code></strong> and now your entry is created.</li>
</ol>
</li>
<li>
<p>Click <strong><code>Credentials</code></strong> on created entry and there you have the <code>Client ID</code>
and <code>Secret</code>.</p>
</li>
<li>
<p>Wait untill <strong><code>Status</code></strong> of created entry changes from <strong><code>Submitted</code></strong> to
<strong><code>Active</code></strong>.<br>
<!-- -->(might take up to 3 bussinus days)</p>
</li>
<li>
<p>So far we have the following pieces:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">REDIRECT_URI=...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CLIENT_ID=...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CLIENT_SECRET=...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="part-2-getting-authorization-code-accesstoken-and-refreshtoken">Part 2: Getting <strong><code>Authorization Code</code></strong>, <strong><code>AccessToken</code></strong> and <strong><code>RefreshToken</code></strong><a href="#part-2-getting-authorization-code-accesstoken-and-refreshtoken" class="hash-link" aria-label="Direct link to part-2-getting-authorization-code-accesstoken-and-refreshtoken" title="Direct link to part-2-getting-authorization-code-accesstoken-and-refreshtoken">​</a></h3>
<ol>
<li>
<p>Must open below URL in browser:<br>
<a href="https://id.ctrader.com/my/settings/openapi/grantingaccess/" target="_blank" rel="noopener noreferrer">https://id.ctrader.com/my/settings/openapi/grantingaccess/</a><br>
<!-- -->with below query parameters:</p>
<table><thead><tr><th>Query Param</th><th>Where Value Comes From</th></tr></thead><tbody><tr><td><code>redirect_uri=</code></td><td>from Part 1, step 3.2</td></tr><tr><td><code>client_id=</code></td><td>from Part 1, step 3.4</td></tr><tr><td><code>client_secret=</code></td><td>from Part 1, step 3.4</td></tr></tbody></table>
</li>
<li>
<p>In opened page click <strong><code>Allow access</code></strong></p>
</li>
<li>
<p>After clicking <strong><code>Allow access</code></strong>, you will be redirected to a url that has a
query parameter named <strong><code>code</code></strong>, save its value:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">CODE=...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>Must open below URL: (in under 60 seconds of Part 2, step 1)
<a href="https://openapi.ctrader.com/apps/token?grant_type=authorization_code" target="_blank" rel="noopener noreferrer">https://openapi.ctrader.com/apps/token?grant_type=authorization_code</a><br>
<!-- -->with below query parameters:</p>
<table><thead><tr><th>Query Param</th><th>Its Value</th></tr></thead><tbody><tr><td>REDIRECT_URI =</td><td>same as before</td></tr><tr><td>CLIENT_ID=</td><td>same as before</td></tr><tr><td>CLIENT_SECRET=</td><td>same as before</td></tr><tr><td>CODE=</td><td>from previous step (Part 2, step 3)</td></tr></tbody></table>
</li>
<li>
<p>Now you have the <strong><code>AccessToken</code></strong> and <strong><code>RefreshToken</code></strong></p>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="summary-of-the-whole-process">Summary of the Whole Process<a href="#summary-of-the-whole-process" class="hash-link" aria-label="Direct link to Summary of the Whole Process" title="Direct link to Summary of the Whole Process">​</a></h3>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>Second link must be opened in under 60 seconds from when first link was opened.</p></div></div>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Windows</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Linux</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-batch codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-batch codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@echo off</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">set /p CLIENT_ID=&quot;ClientID: &quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">set /p CLIENT_SECRET= &quot;ClientSecret: &quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">set /p REDIRECT_URI=&quot;Redicrect URI: &quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">set SCOPE=trading</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">start chrome &quot;https://id.ctrader.com/my/settings/openapi/grantingaccess/?client_id=%CLIENT_ID%&amp;redirect_uri=%REDIRECT_URI%&amp;scope=%SCOPE%&amp;product=web&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">set /p CODE=&quot;Authorization Code: &quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">start chrome &quot;https://openapi.ctrader.com/apps/token?grant_type=authorization_code&amp;code=%CODE%&amp;redirect_uri=%REDIRECT_URI%&amp;client_id=%CLIENT_ID%&amp;client_secret=%CLIENT_SECRET%&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">read -p &quot;ClientID: &quot; CLIENT_ID</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">read -p &quot;ClientSecret: &quot; CLIENT_SECRET</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">read -p &quot;Redicrect URI: &quot; REDIRECT_URI</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SCOPE = &#x27;trading&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">firefox &quot;https://id.ctrader.com/my/settings/openapi/grantingaccess/?client_id=$CLIENT_ID&amp;redirect_uri=$REDIRECT_URI&amp;scope=$SCOPE&amp;product=web&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">read -p &quot;Authorization Code: &quot; CODE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">URL = &quot;https://openapi.ctrader.com/apps/token?grant_type=authorization_code&amp;code=$CODE&amp;redirect_uri=$REDIRECT_URI&amp;client_id=$CLIENT_ID&amp;client_secret=$CLIENT_SECRET&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">curl -X GET $URL -H &quot;Accept: application/json&quot; -H &quot;Content-Type: application/json&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-get-accountid">How to Get AccountID<a href="#how-to-get-accountid" class="hash-link" aria-label="Direct link to How to Get AccountID" title="Direct link to How to Get AccountID">​</a></h2>
<ol>
<li>Go to this page <a href="https://openapi.ctrader.com/apps" target="_blank" rel="noopener noreferrer">https://openapi.ctrader.com/apps</a>.</li>
<li>Log-in with your cTrader account (if not already logged-in).</li>
<li>Click <strong><code>Sandbox</code></strong> on one of the entries.<!-- -->
<ol>
<li>Under <strong>&quot;Scope&quot;</strong>, select <strong><code>Account info</code></strong>.</li>
<li>Click <strong><code>Get token</code></strong>.</li>
<li>Click <strong><code>Allow access</code></strong>.</li>
<li>Copy the <strong><code>Access token</code></strong> (this is called &quot;sandbox access token&quot;).</li>
</ol>
</li>
<li>Open below URL with an <code>accessToken</code> query param set to the token acquired in
previous step:<br>
<a href="https://api.spotware.com/connect/tradingaccounts?access_token=" target="_blank" rel="noopener noreferrer">https://api.spotware.com/connect/tradingaccounts?access_token=</a><br>
<!-- -->(<strong>Note</strong>: You can also use your
<a href="/ctoa/contacting-api/acquiring-credentials">&quot;real access token&quot;</a> here too)</li>
</ol>
<p>Now you will have a list of all of your trading accounts associated with your
cTrader accounts in <code>JSON</code> format.</p>
<p>You will have below properties for each trading account:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// prettier-ignore</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;accountId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">                   </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;accountNumber&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">               </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;live&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">                        </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;brokerName&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">                  </span><span class="token string" style="color:#e3116c">&quot;&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;brokerTitle&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">                 </span><span class="token string" style="color:#e3116c">&quot;&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;depositCurrency&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">             </span><span class="token string" style="color:#e3116c">&quot;&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;traderRegistrationTimestamp&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;traderAccountType&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">           </span><span class="token string" style="color:#e3116c">&quot;&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;leverage&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">                    </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;leverageInCents&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">             </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;balance&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">                     </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;deleted&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">                     </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;accountStatus&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">               </span><span class="token string" style="color:#e3116c">&quot;&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;swapFree&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">                    </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;moneyDigits&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">                 </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/m-ahmadi/ctoa/blob/main/docs/02-contacting-api/04-acquiring-credentials.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/ctoa/contacting-api/exchanging-messages"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Exchanging Messages</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/ctoa/contacting-api/authentication"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Authentication</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#how-to-get-clientid-clientsecret-accesstoken-and-refreshtoken" class="table-of-contents__link toc-highlight">How to Get ClientID, ClientSecret, AccessToken and RefreshToken</a><ul><li><a href="#part-1-getting-clientid-and-clientsecret" class="table-of-contents__link toc-highlight">Part 1: Getting <strong><code>ClientID</code></strong> and <strong><code>ClientSecret</code></strong></a></li><li><a href="#part-2-getting-authorization-code-accesstoken-and-refreshtoken" class="table-of-contents__link toc-highlight">Part 2: Getting <strong><code>Authorization Code</code></strong>, <strong><code>AccessToken</code></strong> and <strong><code>RefreshToken</code></strong></a></li><li><a href="#summary-of-the-whole-process" class="table-of-contents__link toc-highlight">Summary of the Whole Process</a></li></ul></li><li><a href="#how-to-get-accountid" class="table-of-contents__link toc-highlight">How to Get AccountID</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"></div></footer></div>
</body>
</html>